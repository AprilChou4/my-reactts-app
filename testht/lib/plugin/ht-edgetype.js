!function(s){"use strict";function C(s,l){return M(s,l).width}function i(s,l){return M(s,l).height}function F(s,l){return V.getEdgeHostPosition(s,l,"source")}function k(s,l){return V.getEdgeHostPosition(s,l,"target")}function Y(s,l){var V=s.s(H),X=s.getEdgeGroup();if(X){var r=0;if(X.eachSiblingEdge(function(s){l.isVisible(s)&&s.s(H)==V&&r++}),1<r)return s.s(S)*(r-1)/2}return 0}function b(V,X){var r=V.s(H),s=V.isLooped();if(!V.getEdgeGroup())return s?V.s(S):0;var G,p=0,I=0,w=0;return V.getEdgeGroup().getSiblings().each(function(s){s.each(function(s){var l;s._40I===V._40I&&s.s(H)==r&&X.isVisible(s)&&(l=s.s(S),w=(G?I+=w/2+l/2:G=s,l),s===V&&(p=I))})}),s?I-p+w:p-I/2}function L(s,l){return l=l.s("edge.corner.radius"),R.toRoundedCorner(s,l)}function p(s,r,G,l,V){if(l.sort(function(s,l){var V=s.getSourceAgent()===r?s.getTargetAgent():s.getSourceAgent(),X=l.getSourceAgent()===r?l.getTargetAgent():l.getSourceAgent(),V=V.p(),X=X.p();if(G===Q||G===U){if(V.y>X.y)return 1;if(V.y<X.y)return-1}else{if(V.x>X.x)return 1;if(V.x<X.x)return-1}return R.sortFunc(s.getId(),l.getId())}),V){for(var X,p,I,w=s.getSourceAgent(),H=s.getTargetAgent(),m=0;m<l.size();m++){var q=l.get(m);q.getSourceAgent()===w&&q.getTargetAgent()===H||q.getTargetAgent()===w&&q.getSourceAgent()===H?(p=p||new N).add(q,0):(p?I=I||new N:X=X||new N).add(q)}l.clear(),X&&l.addAll(X),p&&l.addAll(p),I&&l.addAll(I)}var V=l.indexOf(s),g=l.size(),s=s.s(S);return{side:G,index:V,size:g,offset:-s*(g-1)/2+s*V}}function W(l,s,V,X,r){var G=s.s(H);return p(s,V,X,V.getAgentEdges().toList(function(s){return l.isVisible(s)&&s.s(H)===G}),r)}function G(s,l,V){return l=l.getSourceAgent()===V?l.getTargetAgent():l.getSourceAgent(),V=V instanceof c.Edge?v(s,V):V.p(),l=(s=l instanceof c.Edge?v(s,l):l.p()).x-V.x,s=s.y-V.y,0<l&&A(s)<=l?U:l<0&&A(s)<=-l?Q:0<s&&A(l)<=s?y:o}function z(l,s,V){var X=s.s(H),r=G(l,s,V);return p(s,V,r,V.getAgentEdges().toList(function(s){return l.isVisible(s)&&s.s(H)===X&&G(l,s,V)===r}))}function I(s,l,V){var X=l.getSourceAgent()===V,l=X?l.getTargetAgent():l.getSourceAgent(),r=V instanceof c.Edge,G=l instanceof c.Edge,r=r?v(s,V):V.p(),V=G?v(s,l):l.p();return X?r.y>V.y?o:y:r.x<V.x?U:Q}function r(l,s,V){var X=s.s(H),r=I(l,s,V);return p(s,V,r,V.getAgentEdges().toList(function(s){return l.isVisible(s)&&s.s(H)===X&&I(l,s,V)===r}),r===U||r===y)}function w(s,l,V){var X=l.getSourceAgent()===V,l=X?l.getTargetAgent():l.getSourceAgent(),r=V instanceof c.Edge,G=l instanceof c.Edge,r=r?v(s,V):V.p(),V=G?v(s,l):l.p();return X?r.x<V.x?U:Q:r.y>V.y?o:y}function m(l,s,V){var X=s.s(H),r=w(l,s,V);return p(s,V,r,V.getAgentEdges().toList(function(s){return l.isVisible(s)&&s.s(H)===X&&w(l,s,V)===r}),r===U||r===y)}function X(s,l,V){var X=s.getSourceAgent(),r=s.getTargetAgent(),G=X.getId()>r.getId(),p=G?r:X,X=G?X:r,r=p instanceof c.Edge,I=X instanceof c.Edge,w=r?v(l,p):p.p(),H=I?v(l,X):X.p(),m=V(l,s,p),V=V(l,s,X),q=(W=s.s(d))||r?0:C(l,p)/2,g=W||I?0:C(l,X)/2,r=W||r?0:i(l,p)/2,p=W||I?0:i(l,X)/2,W=m.offset,I=V.offset,l=m.side,X=V.side,m=new N;return l===o?(m.add({x:w.x+W,y:w.y-r}),m.add({x:w.x+W,y:H.y+I}),X===Q?m.add({x:H.x-g,y:H.y+I}):m.add({x:H.x+g,y:H.y+I})):l===y?(m.add({x:w.x+W,y:w.y+r}),m.add({x:w.x+W,y:H.y+I}),X===Q?m.add({x:H.x-g,y:H.y+I}):m.add({x:H.x+g,y:H.y+I})):l===Q?(m.add({x:w.x-q,y:w.y+W}),m.add({x:H.x+I,y:w.y+W}),X===y?m.add({x:H.x+I,y:H.y+p}):m.add({x:H.x+I,y:H.y-p})):l===U&&(m.add({x:w.x+q,y:w.y+W}),m.add({x:H.x+I,y:w.y+W}),X===y?m.add({x:H.x+I,y:H.y+p}):m.add({x:H.x+I,y:H.y-p})),G&&m.reverse(),L(m,s)}var c=s.ht,s=Math,h=s.max,j=s.min,A=s.abs,a=s.atan2,B=(s.cos,s.sin,s.ceil),R=c.Default,V=R.getInternal(),N=c.List,J=V.Mat,M=V.getNodeRect,u=V.intersectionLineRect,K=R.getDistance,s=R.setEdgeType,l=(R.unionRect,R._edgeProtectMethod),q=l.getStraightLinePoints,g=l.getPercentPosition,Q="left",U="right",o="top",y="bottom",H="edge.type",S="edge.gap",d="edge.center",O="edge.extend",v=function(s,l){s=s.getDataUI(l),l=q(s);return g(l,50)};V.addMethod(c.Style,{"edge.ripple.elevation":-20,"edge.ripple.size":1,"edge.ripple.both":!1,"edge.ripple.straight":!1,"edge.ripple.length":-1,"edge.corner.radius":-1,"edge.ortho":.5,"edge.flex":20,"edge.extend":20},!0),s("boundary",function(s,l,V,X){X||(l=-l);var X=F(V,s),r=k(V,s),G=s._40I,s=s._41I,p=G instanceof c.Edge,I=s instanceof c.Edge,w=new J(a(r.y-X.y,r.x-X.x)),H=K(X,r),m=X.x,q=X.y,g=w.tf(0,l),X={x:g.x+m,y:g.y+q},r={x:(g=w.tf(H,l)).x+m,y:g.y+q};return p?X={x:(g=v(V,G)).x,y:g.y}:(w=M(V,G),(g=u(X,r,w))&&(X={x:g[0],y:g[1]})),I?r={x:(g=v(V,s)).x,y:g.y}:(H=M(V,s),(g=u(X,r,H))&&(r={x:g[0],y:g[1]})),{points:new N([X,r])}}),s("ripple",function(s,l,V,X){X||(l=-l);var r=F(V,s),V=k(V,s),G=K(r,V),p=j(s.s("edge.offset"),G/2),I=s.s("edge.ripple.size"),w=s.s("edge.ripple.length"),H=s.s("edge.ripple.both"),m=s.s(d),q=s.s("edge.ripple.elevation"),g=new N,W=s.s("edge.ripple.straight")?null:new N,h=new J(a(V.y-r.y,V.x-r.x)),b=(X||(q=-q),(G-=2*p)/(I=0<w?B(G/w):I));W&&W.add(1);for(var R=0;R<I;R++)W&&W.add(3),0===R?g.add({x:p+b*R,y:m?0:l}):g.add({x:p+b*R,y:l}),g.add({x:p+b*R+b/2,y:q+l}),H&&(q=-q);for(g.add({x:p+G,y:m?0:l}),R=0;R<g.size();R++){var Y=h.tf(g.get(R));Y.x+=r.x,Y.y+=r.y,g.set(R,Y)}return{points:g,segments:W}}),s("h.v",function(s,l,V){l=b(s,V);var X=new N,r=s.s(d),G=F(V,s),p=G.x,G=G.y,I=k(V,s),w=I.x,I=I.y,H=s._40I instanceof c.Edge,m=s._41I instanceof c.Edge,q=0,g=0,W=w-p,h=I-G;return r||(q=H?0:C(V,s._40I)/2,g=m?0:i(V,s._41I)/2),0<=W&&h<=0?(X.add({x:p+q,y:G+l}),X.add({x:w+l,y:G+l}),X.add({x:w+l,y:I+g})):W<=0&&0<=h?(X.add({x:p-q,y:G+l}),X.add({x:w+l,y:G+l}),X.add({x:w+l,y:I-g})):0<=W&&0<=h?(X.add({x:p+q,y:G+l}),X.add({x:w-l,y:G+l}),X.add({x:w-l,y:I-g})):(X.add({x:p-q,y:G+l}),X.add({x:w-l,y:G+l}),X.add({x:w-l,y:I+g})),L(X,s)}),s("v.h",function(s,l,V){l=b(s,V);var X=new N,r=s.s(d),G=F(V,s),p=G.x,G=G.y,I=k(V,s),w=I.x,I=I.y,H=s._40I instanceof c.Edge,m=s._41I instanceof c.Edge,q=0,g=0,W=w-p,h=I-G;return r||(q=m?0:C(V,s._41I)/2,g=H?0:i(V,s._40I)/2),0<=W&&h<=0?(X.add({x:p+l,y:G-g}),X.add({x:p+l,y:I+l}),X.add({x:w-q,y:I+l})):W<=0&&0<=h?(X.add({x:p+l,y:G+g}),X.add({x:p+l,y:I+l}),X.add({x:w+q,y:I+l})):0<=W&&0<=h?(X.add({x:p-l,y:G+g}),X.add({x:p-l,y:I+l}),X.add({x:w-q,y:I+l})):(X.add({x:p-l,y:G-g}),X.add({x:p-l,y:I+l}),X.add({x:w+q,y:I+l})),L(X,s)}),s("ortho",function(s,l,V){var X=new N,r=s.s(d),G=s.s("edge.ortho"),p=s._40I,I=s._41I,w=F(V,s),H=w.x,w=w.y,m=k(V,s),q=m.x,m=m.y,g=q-H,W=m-w,h=p instanceof c.Edge,b=I instanceof c.Edge,R=r||h?0:C(V,p)/2,h=r||h?0:i(V,p)/2,p=r||b?0:C(V,I)/2,r=r||b?0:i(V,I)/2,b=(g-(R+p)*(0<g?1:-1))*G,V=(W-(h+r)*(0<W?1:-1))*G;return A(g)<A(W)?0<=g&&W<=0?(X.add({x:H+l,y:w-h}),X.add({x:H+l,y:w+V+l-h}),X.add({x:q+l,y:w+V+l-h}),X.add({x:q+l,y:m+r})):g<=0&&0<=W?(X.add({x:H+l,y:w+h}),X.add({x:H+l,y:w+V+l+h}),X.add({x:q+l,y:w+V+l+h}),X.add({x:q+l,y:m-r})):0<=g&&0<=W?(X.add({x:H+l,y:w+h}),X.add({x:H+l,y:w+V-l+h}),X.add({x:q+l,y:w+V-l+h}),X.add({x:q+l,y:m-r})):(X.add({x:H+l,y:w-h}),X.add({x:H+l,y:w+V-l-h}),X.add({x:q+l,y:w+V-l-h}),X.add({x:q+l,y:m+r})):0<=g&&W<=0?(X.add({x:H+R,y:w+l}),X.add({x:H+b+l+R,y:w+l}),X.add({x:H+b+l+R,y:m+l}),X.add({x:q-p,y:m+l})):g<=0&&0<=W?(X.add({x:H-R,y:w+l}),X.add({x:H+b+l-R,y:w+l}),X.add({x:H+b+l-R,y:m+l}),X.add({x:q+p,y:m+l})):0<=g&&0<=W?(X.add({x:H+R,y:w+l}),X.add({x:H+b-l+R,y:w+l}),X.add({x:H+b-l+R,y:m+l}),X.add({x:q-p,y:m+l})):(X.add({x:H-R,y:w+l}),X.add({x:H+b-l-R,y:w+l}),X.add({x:H+b-l-R,y:m+l}),X.add({x:q+p,y:m+l})),L(X,s)}),s("flex",function(s,l,V){var X=new N,r=s.s("edge.flex")+Y(s,V),G=s.s(d),p=s._40I,I=s._41I,w=F(V,s),H=w.x,w=w.y,m=k(V,s),q=m.x,m=m.y,g=p instanceof c.Edge,W=I instanceof c.Edge,h=q-H,b=m-w,R=G||g?0:C(V,p)/2,g=G||g?0:i(V,p)/2,p=G||W?0:C(V,I)/2,G=G||W?0:i(V,I)/2,W=0<h?r:-r,V=0<b?r:-r;return A(h)<A(b)?0<=h&&b<=0?(X.add({x:H+l,y:w-g}),X.add({x:H+l,y:w+V+l-g}),X.add({x:q+l,y:m-V+l+G}),X.add({x:q+l,y:m+G})):h<=0&&0<=b?(X.add({x:H+l,y:w+g}),X.add({x:H+l,y:w+V+l+g}),X.add({x:q+l,y:m-V+l-G}),X.add({x:q+l,y:m-G})):0<=h&&0<=b?(X.add({x:H+l,y:w+g}),X.add({x:H+l,y:w+V-l+g}),X.add({x:q+l,y:m-V-l-G}),X.add({x:q+l,y:m-G})):(X.add({x:H+l,y:w-g}),X.add({x:H+l,y:w+V-l-g}),X.add({x:q+l,y:m-V-l+G}),X.add({x:q+l,y:m+G})):0<=h&&b<=0?(X.add({x:H+R,y:w+l}),X.add({x:H+W+l+R,y:w+l}),X.add({x:q-W+l-p,y:m+l}),X.add({x:q-p,y:m+l})):h<=0&&0<=b?(X.add({x:H-R,y:w+l}),X.add({x:H+W+l-R,y:w+l}),X.add({x:q-W+l+p,y:m+l}),X.add({x:q+p,y:m+l})):0<=h&&0<=b?(X.add({x:H+R,y:w+l}),X.add({x:H+W-l+R,y:w+l}),X.add({x:q-W-l-p,y:m+l}),X.add({x:q-p,y:m+l})):(X.add({x:H-R,y:w+l}),X.add({x:H+W-l-R,y:w+l}),X.add({x:q-W-l+p,y:m+l}),X.add({x:q+p,y:m+l})),L(X,s)}),s("extend.east",function(s,l,V){var X=new N,r=s.s(O)+Y(s,V),G=s.s(d),p=F(V,s),I=s._40I instanceof c.Edge,w=s._41I instanceof c.Edge,I=p.x+(G||I?0:C(V,s._40I)/2),p=p.y,H=k(V,s),G=H.x+(G||w?0:C(V,s._41I)/2),w=H.y,V=h(I,G)+r;return w<p?(X.add({x:I,y:p+l}),X.add({x:V+l,y:p+l}),X.add({x:V+l,y:w-l}),X.add({x:G,y:w-l})):(X.add({x:I,y:p-l}),X.add({x:V+l,y:p-l}),X.add({x:V+l,y:w+l}),X.add({x:G,y:w+l})),L(X,s)}),s("extend.west",function(s,l,V){var X=new N,r=s.s(O)+Y(s,V),G=s.s(d),p=s._40I instanceof c.Edge,I=s._41I instanceof c.Edge,w=F(V,s),p=w.x-(G||p?0:C(V,s._40I)/2),w=w.y,H=k(V,s),G=H.x-(G||I?0:C(V,s._41I)/2),I=H.y,V=j(p,G)-r;return I<w?(X.add({x:p,y:w+l}),X.add({x:V-l,y:w+l}),X.add({x:V-l,y:I-l}),X.add({x:G,y:I-l})):(X.add({x:p,y:w-l}),X.add({x:V-l,y:w-l}),X.add({x:V-l,y:I+l}),X.add({x:G,y:I+l})),L(X,s)}),s("extend.north",function(s,l,V){var X=new N,r=s.s(O)+Y(s,V),G=s.s(d),p=s._40I instanceof c.Edge,I=s._41I instanceof c.Edge,w=F(V,s),H=w.x,w=w.y-(G||p?0:i(V,s._40I)/2),p=k(V,s),m=p.x,p=p.y-(G||I?0:i(V,s._41I)/2),G=j(w,p)-r;return m<H?(X.add({y:w,x:H+l}),X.add({y:G-l,x:H+l}),X.add({y:G-l,x:m-l}),X.add({y:p,x:m-l})):(X.add({y:w,x:H-l}),X.add({y:G-l,x:H-l}),X.add({y:G-l,x:m+l}),X.add({y:p,x:m+l})),L(X,s)}),s("extend.south",function(s,l,V){var X=new N,r=s.s(O)+Y(s,V),G=s.s(d),p=s._40I instanceof c.Edge,I=s._41I instanceof c.Edge,w=F(V,s),H=w.x,w=w.y+(G||p?0:i(V,s._40I)/2),p=k(V,s),m=p.x,p=p.y+(G||I?0:i(V,s._41I)/2),G=h(w,p)+r;return m<H?(X.add({y:w,x:H+l}),X.add({y:G+l,x:H+l}),X.add({y:G+l,x:m-l}),X.add({y:p,x:m-l})):(X.add({y:w,x:H-l}),X.add({y:G+l,x:H-l}),X.add({y:G+l,x:m+l}),X.add({y:p,x:m+l})),L(X,s)});s("ortho2",function(s,l,V,X){var r,G,p=s.s(d),I=s.s("edge.ortho"),w=s.getSourceAgent(),H=s.getTargetAgent(),m=w.getId()>H.getId(),q=m?H:w,w=m?w:H,H=q instanceof c.Edge,g=w instanceof c.Edge,W=H?v(V,q):q.p(),h=g?v(V,w):w.p(),b=z(V,s,q),R=z(V,s,w),Y=p||H?0:C(V,q)/2,H=p||H?0:i(V,q)/2,q=p||g?0:C(V,w)/2,p=p||g?0:i(V,w)/2,g=new N,V=b.offset,w=R.offset,R=b.side;return R===U?(r=h.y>W.y?-V:V,G=W.x+Y+(h.x-q-W.x-Y)*I,g.add({x:W.x+Y,y:W.y+V}),g.add({x:G+r,y:W.y+V}),g.add({x:G+r,y:h.y+w}),g.add({x:h.x-q,y:h.y+w})):R===Q?(r=h.y>W.y?-V:V,G=W.x-Y-(W.x-Y-h.x-q)*I,g.add({x:W.x-Y,y:W.y+V}),g.add({x:G-r,y:W.y+V}),g.add({x:G-r,y:h.y+w}),g.add({x:h.x+q,y:h.y+w})):R===y?(r=h.x>W.x?-V:V,G=W.y+H+(h.y-p-W.y-H)*I,g.add({x:W.x+V,y:W.y+H}),g.add({x:W.x+V,y:G+r}),g.add({x:h.x+w,y:G+r}),g.add({x:h.x+w,y:h.y-p})):R===o&&(r=h.x>W.x?-V:V,G=W.y-H-(W.y-H-h.y-p)*I,g.add({x:W.x+V,y:W.y-H}),g.add({x:W.x+V,y:G-r}),g.add({x:h.x+w,y:G-r}),g.add({x:h.x+w,y:h.y+p})),m&&g.reverse(),L(g,s)},!0),s("flex2",function(s,l,V,X){var r,G=s.getSourceAgent(),p=s.getTargetAgent(),I=G.getId()>p.getId(),w=I?p:G,G=I?G:p,p=w instanceof c.Edge,H=G instanceof c.Edge,m=p?v(V,w):w.p(),q=H?v(V,G):G.p(),g=z(V,s,w),W=z(V,s,G),h=s.s(d),b=s.s("edge.flex")+(g.size-1)/2*s.s(S),R=h||p?0:C(V,w)/2,p=h||p?0:i(V,w)/2,w=h||H?0:C(V,G)/2,h=h||H?0:i(V,G)/2,H=new N,V=g.offset,G=W.offset,W=g.side;return W===U?(r=q.y>m.y?-V:V,H.add({x:m.x+R,y:m.y+V}),H.add({x:m.x+R+b+r,y:m.y+V}),H.add({x:q.x-w-b+r,y:q.y+G}),H.add({x:q.x-w,y:q.y+G})):W===Q?(r=q.y>m.y?-V:V,H.add({x:m.x-R,y:m.y+V}),H.add({x:m.x-R-b-r,y:m.y+V}),H.add({x:q.x+w+b-r,y:q.y+G}),H.add({x:q.x+w,y:q.y+G})):W===y?(r=q.x>m.x?-V:V,H.add({x:m.x+V,y:m.y+p}),H.add({x:m.x+V,y:m.y+p+b+r}),H.add({x:q.x+G,y:q.y-h-b+r}),H.add({x:q.x+G,y:q.y-h})):W===o&&(r=q.x>m.x?-V:V,H.add({x:m.x+V,y:m.y-p}),H.add({x:m.x+V,y:m.y-p-b-r}),H.add({x:q.x+G,y:q.y+h+b-r}),H.add({x:q.x+G,y:q.y+h})),I&&H.reverse(),L(H,s)},!0),s("extend.north2",function(s,l,V){var X=s.getSourceAgent(),r=s.getTargetAgent(),G=X.getId()>r.getId(),p=G?r:X,X=G?X:r,r=p instanceof c.Edge,I=X instanceof c.Edge,w=r?v(V,p):p.p(),H=I?v(V,X):X.p(),m=W(V,s,p,o),q=W(V,s,X,o,!0),g=s.s(d),r=g||r?0:i(V,p)/2,p=g||I?0:i(V,X)/2,g=m.offset,I=q.offset,V=s.s(O)+(m.size-1)/2*s.s(S),X=j(w.y-r,H.y-p)-V+(w.x<H.x?g:-g),q=new N;return q.add({x:w.x+g,y:w.y-r}),q.add({x:w.x+g,y:X}),q.add({x:H.x+I,y:X}),q.add({x:H.x+I,y:H.y-p}),G&&q.reverse(),L(q,s)},!0),s("extend.south2",function(s,l,V){var X=s.getSourceAgent(),r=s.getTargetAgent(),G=X.getId()>r.getId(),p=G?r:X,X=G?X:r,r=p instanceof c.Edge,I=X instanceof c.Edge,w=r?v(V,p):p.p(),H=I?v(V,X):X.p(),m=W(V,s,p,y),q=W(V,s,X,y,!0),g=s.s(d),r=g||r?0:i(V,p)/2,p=g||I?0:i(V,X)/2,g=m.offset,I=q.offset,V=s.s(O)+(m.size-1)/2*s.s(S),X=h(w.y+r,H.y+p)+V+(w.x>H.x?g:-g),q=new N;return q.add({x:w.x+g,y:w.y+r}),q.add({x:w.x+g,y:X}),q.add({x:H.x+I,y:X}),q.add({x:H.x+I,y:H.y+p}),G&&q.reverse(),L(q,s)},!0),s("extend.west2",function(s,l,V){var X=s.getSourceAgent(),r=s.getTargetAgent(),G=X.getId()>r.getId(),p=G?r:X,X=G?X:r,r=p instanceof c.Edge,I=X instanceof c.Edge,w=r?v(V,p):p.p(),H=I?v(V,X):X.p(),m=W(V,s,p,o),q=W(V,s,X,o,!0),g=s.s(d),r=g||r?0:C(V,p)/2,p=g||I?0:C(V,X)/2,g=m.offset,I=q.offset,V=s.s(O)+(m.size-1)/2*s.s(S),X=j(w.x-r,H.x-p)-V+(w.y<H.y?g:-g),q=new N;return q.add({x:w.x-r,y:w.y+g}),q.add({x:X,y:w.y+g}),q.add({x:X,y:H.y+I}),q.add({x:H.x-p,y:H.y+I}),G&&q.reverse(),L(q,s)},!0),s("extend.east2",function(s,l,V){var X=s.getSourceAgent(),r=s.getTargetAgent(),G=X.getId()>r.getId(),p=G?r:X,X=G?X:r,r=p instanceof c.Edge,I=X instanceof c.Edge,w=r?v(V,p):p.p(),H=I?v(V,X):X.p(),m=W(V,s,p,o),q=W(V,s,X,o,!0),g=s.s(d),r=g||r?0:C(V,p)/2,p=g||I?0:C(V,X)/2,g=m.offset,I=q.offset,V=s.s(O)+(m.size-1)/2*s.s(S),X=h(w.x+r,H.x+p)+V+(w.y>H.y?g:-g),q=new N;return q.add({x:w.x+r,y:w.y+g}),q.add({x:X,y:w.y+g}),q.add({x:X,y:H.y+I}),q.add({x:H.x+p,y:H.y+I}),G&&q.reverse(),L(q,s)},!0),s("v.h2",function(s,l,V){return X(s,V,r)},!0),s("h.v2",function(s,l,V){return X(s,V,m)},!0)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);